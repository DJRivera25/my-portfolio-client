(()=>{var e={};e.id=679,e.ids=[679],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7462:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(56037),n=s.n(r);let o=process.env.MONGODB_URI;if(!o)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let a=global.mongoose;a||(a=global.mongoose={conn:null,promise:null});let i=async function(){return a.conn||(a.promise||(a.promise=n().connect(o,{bufferCommands:!1}).then(e=>e)),a.conn=await a.promise),a.conn}},10654:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(56037);let n=new r.Schema({name:{type:String,required:!0},email:{type:String,required:!0},content:{type:String,required:!0},hasViewed:{type:Boolean,default:!1}},{timestamps:!0}),o=r.models.Message||(0,r.model)("Message",n)},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},56037:e=>{"use strict";e.exports=require("mongoose")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},82264:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>f,routeModule:()=>g,serverHooks:()=>w,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>v});var r={};s.r(r),s.d(r,{DELETE:()=>m,GET:()=>l,PATCH:()=>p,POST:()=>c});var n=s(96559),o=s(48088),a=s(37719),i=s(32190),u=s(7462),d=s(10654);async function p(e,t){let s=await t.params;await (0,u.A)();let{id:r}=s,n=await d.A.findByIdAndUpdate(r,{hasViewed:!0},{new:!0});return n?i.NextResponse.json(n):i.NextResponse.json({message:"Message not found"},{status:404})}async function l(){return i.NextResponse.json({message:"Method Not Allowed"},{status:405})}async function c(){return i.NextResponse.json({message:"Method Not Allowed"},{status:405})}async function m(){return i.NextResponse.json({message:"Method Not Allowed"},{status:405})}let g=new n.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/messages/[id]/viewed/route",pathname:"/api/messages/[id]/viewed",filename:"route",bundlePath:"app/api/messages/[id]/viewed/route"},resolvedPagePath:"C:\\Users\\stephanie\\Documents\\B550 MCP MERN\\WebPortfolio\\my-portfolio-client\\app\\api\\messages\\[id]\\viewed\\route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:x,workUnitAsyncStorage:v,serverHooks:w}=g;function f(){return(0,a.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:v})}},96487:()=>{}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,580],()=>s(82264));module.exports=r})();