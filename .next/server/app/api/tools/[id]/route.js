(()=>{var e={};e.id=227,e.ids=[227],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7462:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(56037),o=s.n(r);let n=process.env.MONGODB_URI;if(!n)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let a=global.mongoose;a||(a=global.mongoose={conn:null,promise:null});let i=async function(){return a.conn||(a.promise||(a.promise=o().connect(n,{bufferCommands:!1}).then(e=>e)),a.conn=await a.promise),a.conn}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:e=>{"use strict";e.exports=require("querystring")},16804:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(71870);r.v2.config({cloud_name:process.env.CLOUDINARY_CLOUD_NAME,api_key:process.env.CLOUDINARY_API_KEY,api_secret:process.env.CLOUDINARY_API_SECRET});let o=r.v2},27910:e=>{"use strict";e.exports=require("stream")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56037:e=>{"use strict";e.exports=require("mongoose")},61275:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(56037);let o=new r.Schema({name:{type:String,required:!0},icon:{type:String},description:{type:String},category:{type:String}},{timestamps:!0}),n=r.models.Tool||(0,r.model)("Tool",o)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},75160:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>w,routeModule:()=>f,serverHooks:()=>v,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>y});var r={};s.r(r),s.d(r,{DELETE:()=>g,GET:()=>d,PUT:()=>m,runtime:()=>l});var o=s(96559),n=s(48088),a=s(37719),i=s(32190),u=s(7462),p=s(61275),c=s(16804);let l="nodejs";async function d(e,t){let s=await t.params;await (0,u.A)();try{let e=await p.A.findById(s.id);if(!e)return i.NextResponse.json({message:"Tool not found"},{status:404});return i.NextResponse.json(e)}catch(e){return i.NextResponse.json({message:e.message},{status:500})}}async function m(e,t){let s=await t.params;await (0,u.A)();try{if(!(e.headers.get("content-type")||"").startsWith("multipart/form-data"))return i.NextResponse.json({message:"Invalid content type"},{status:400});let t=await e.formData(),r=t.get("name"),o=t.get("category"),n=t.get("icon"),a=await p.A.findById(s.id);if(!a)return i.NextResponse.json({message:"Tool not found"},{status:404});if(r&&(a.name=String(r)),o&&(a.category=String(o)),n&&"string"!=typeof n){let e=await n.arrayBuffer(),t=Buffer.from(e);a.icon=(await new Promise((e,s)=>{c.A.uploader.upload_stream({folder:"tools",resource_type:"image",allowed_formats:["jpg","jpeg","png","webp"]},(t,r)=>{t?s(t):e(r)}).end(t)})).secure_url}let u=await a.save();return i.NextResponse.json(u)}catch(e){return i.NextResponse.json({message:e.message},{status:500})}}async function g(e,t){let s=await t.params;await (0,u.A)();try{if(!await p.A.findByIdAndDelete(s.id))return i.NextResponse.json({message:"Tool not found"},{status:404});return i.NextResponse.json({message:"Tool deleted successfully"})}catch(e){return i.NextResponse.json({message:e.message},{status:500})}}let f=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/tools/[id]/route",pathname:"/api/tools/[id]",filename:"route",bundlePath:"app/api/tools/[id]/route"},resolvedPagePath:"C:\\Users\\stephanie\\Documents\\B550 MCP MERN\\WebPortfolio\\my-portfolio-client\\app\\api\\tools\\[id]\\route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:x,workUnitAsyncStorage:y,serverHooks:v}=f;function w(){return(0,a.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:y})}},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,580,870],()=>s(75160));module.exports=r})();