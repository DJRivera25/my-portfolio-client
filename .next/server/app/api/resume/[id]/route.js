(()=>{var e={};e.id=219,e.ids=[219],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7415:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>v,routeModule:()=>x,serverHooks:()=>y,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>R});var r={};s.r(r),s.d(r,{DELETE:()=>f,GET:()=>l,PUT:()=>m,runtime:()=>c});var a=s(96559),n=s(48088),o=s(37719),i=s(32190),u=s(7462),p=s(56570),d=s(16804);let c="nodejs";async function l(e,t){let s=await t.params;await (0,u.A)();try{let e=await p.A.findById(s.id);if(!e)return i.NextResponse.json({message:"Resume not found"},{status:404});return i.NextResponse.json(e)}catch(e){return i.NextResponse.json({message:e.message},{status:500})}}async function m(e,t){let s=await t.params;await (0,u.A)();try{if(!(e.headers.get("content-type")||"").startsWith("multipart/form-data"))return i.NextResponse.json({message:"Invalid content type"},{status:400});let t=(await e.formData()).get("resume"),r=await p.A.findById(s.id);if(!r)return i.NextResponse.json({message:"Resume not found"},{status:404});if(t&&"string"!=typeof t){let e=await t.arrayBuffer(),s=Buffer.from(e);r.url=(await new Promise((e,t)=>{d.A.uploader.upload_stream({folder:"resumes",resource_type:"raw",format:"pdf",public_id:"Derem-Joshua-Rivera-Resume.pdf",allowed_formats:["pdf"]},(s,r)=>{s?t(s):e(r)}).end(s)})).secure_url}let a=await r.save();return i.NextResponse.json(a)}catch(e){return i.NextResponse.json({message:e.message},{status:500})}}async function f(e,t){let s=await t.params;await (0,u.A)();try{if(!await p.A.findByIdAndDelete(s.id))return i.NextResponse.json({message:"Resume not found"},{status:404});return i.NextResponse.json({message:"Resume deleted successfully"})}catch(e){return i.NextResponse.json({message:e.message},{status:500})}}let x=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/resume/[id]/route",pathname:"/api/resume/[id]",filename:"route",bundlePath:"app/api/resume/[id]/route"},resolvedPagePath:"C:\\Users\\stephanie\\Documents\\B550 MCP MERN\\WebPortfolio\\my-portfolio-client\\app\\api\\resume\\[id]\\route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:g,workUnitAsyncStorage:R,serverHooks:y}=x;function v(){return(0,o.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:R})}},7462:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(56037),a=s.n(r);let n=process.env.MONGODB_URI;if(!n)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let o=global.mongoose;o||(o=global.mongoose={conn:null,promise:null});let i=async function(){return o.conn||(o.promise||(o.promise=a().connect(n,{bufferCommands:!1}).then(e=>e)),o.conn=await o.promise),o.conn}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:e=>{"use strict";e.exports=require("querystring")},16804:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(71870);r.v2.config({cloud_name:process.env.CLOUDINARY_CLOUD_NAME,api_key:process.env.CLOUDINARY_API_KEY,api_secret:process.env.CLOUDINARY_API_SECRET});let a=r.v2},27910:e=>{"use strict";e.exports=require("stream")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56037:e=>{"use strict";e.exports=require("mongoose")},56570:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(56037);let a=new r.Schema({url:{type:String,required:!0},fileUrl:{type:String},uploadedAt:{type:Date,default:Date.now}},{timestamps:!0}),n=r.models.Resume||(0,r.model)("Resume",a)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,580,870],()=>s(7415));module.exports=r})();