(()=>{var e={};e.id=876,e.ids=[876],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7462:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(56037),a=s.n(r);let o=process.env.MONGODB_URI;if(!o)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let n=global.mongoose;n||(n=global.mongoose={conn:null,promise:null});let i=async function(){return n.conn||(n.promise||(n.promise=a().connect(o,{bufferCommands:!1}).then(e=>e)),n.conn=await n.promise),n.conn}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:e=>{"use strict";e.exports=require("querystring")},11866:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(56037);let a=new r.Schema({platform:{type:String,required:!0},url:{type:String,required:!0},icon:{type:String}},{timestamps:!0}),o=r.models.Social||(0,r.model)("Social",a)},16804:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(71870);r.v2.config({cloud_name:process.env.CLOUDINARY_CLOUD_NAME,api_key:process.env.CLOUDINARY_API_KEY,api_secret:process.env.CLOUDINARY_API_SECRET});let a=r.v2},27910:e=>{"use strict";e.exports=require("stream")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56037:e=>{"use strict";e.exports=require("mongoose")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},76833:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>w,routeModule:()=>g,serverHooks:()=>v,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>y});var r={};s.r(r),s.d(r,{DELETE:()=>f,GET:()=>d,PUT:()=>m,runtime:()=>l});var a=s(96559),o=s(48088),n=s(37719),i=s(32190),u=s(7462),p=s(11866),c=s(16804);let l="nodejs";async function d(e,t){let s=await t.params;await (0,u.A)();try{let e=await p.A.findById(s.id);if(!e)return i.NextResponse.json({message:"Social not found"},{status:404});return i.NextResponse.json(e)}catch(e){return i.NextResponse.json({message:e.message},{status:500})}}async function m(e,t){let s=await t.params;await (0,u.A)();try{if(!(e.headers.get("content-type")||"").startsWith("multipart/form-data"))return i.NextResponse.json({message:"Invalid content type"},{status:400});let t=await e.formData(),r=t.get("platform"),a=t.get("url"),o=t.get("icon"),n=await p.A.findById(s.id);if(!n)return i.NextResponse.json({message:"Social not found"},{status:404});if(r&&(n.platform=String(r)),a&&(n.url=String(a)),o&&"string"!=typeof o){let e=await o.arrayBuffer(),t=Buffer.from(e);n.icon=(await new Promise((e,s)=>{c.A.uploader.upload_stream({folder:"socials",resource_type:"image",allowed_formats:["jpg","jpeg","png","webp"]},(t,r)=>{t?s(t):e(r)}).end(t)})).secure_url}let u=await n.save();return i.NextResponse.json(u)}catch(e){return i.NextResponse.json({message:e.message},{status:500})}}async function f(e,t){let s=await t.params;await (0,u.A)();try{if(!await p.A.findByIdAndDelete(s.id))return i.NextResponse.json({message:"Social not found"},{status:404});return i.NextResponse.json({message:"Social deleted successfully"})}catch(e){return i.NextResponse.json({message:e.message},{status:500})}}let g=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/socials/[id]/route",pathname:"/api/socials/[id]",filename:"route",bundlePath:"app/api/socials/[id]/route"},resolvedPagePath:"C:\\Users\\stephanie\\Documents\\B550 MCP MERN\\WebPortfolio\\my-portfolio-client\\app\\api\\socials\\[id]\\route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:x,workUnitAsyncStorage:y,serverHooks:v}=g;function w(){return(0,n.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:y})}},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,580,870],()=>s(76833));module.exports=r})();